<!DOCTYPE html>
<html lang="ko"
      xmlns:th="http://www.thymeleaf.org"
      xmlns:sec="http://www.thymeleaf.org/extras/spring-security">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>마이페이지 - 버디의 홈페이지</title>

    <link rel="stylesheet" th:href="@{/css/common.css}">
    <link rel="stylesheet" th:href="@{/css/auth.css}">
</head>
<body>
<div class="login-area">
    <!-- 로그인 안 한 상태 -->
    <form sec:authorize="!isAuthenticated()" th:action="@{/login}" method="get">
        <button type="submit">로그인</button>
    </form>

    <!-- 로그인 한 상태 -->
    <form sec:authorize="isAuthenticated()" th:action="@{/logout}" method="post">
        <span sec:authentication="principal.username">user</span>
        <button type="submit">로그아웃</button>
    </form>
</div>

<header id="container">
    <h1>마이페이지</h1>
</header>

<nav>
    <ul>
        <li><a th:href="@{/home}">홈</a></li>
        <li><a th:href="@{/photos}">사진</a></li>
        <li><a th:href="@{/videos}">동영상</a></li>
        <li><a th:href="@{/info}">정보</a></li>
    </ul>
</nav>

<div class="signup-container">
    <h1>내 정보</h1>

    <div class="form-group">
        <label>이메일</label>
        <input type="email" th:value="${member.email}" readonly>
    </div>

    <div class="form-group">
        <label>이름</label>
        <input type="text" th:value="${member.name}" readonly>
    </div>

    <div class="form-group">
        <label>권한</label>
        <input type="text" th:value="${member.role}" readonly>
    </div>

    <!-- 필요하면 비밀번호 변경 / 닉네임 변경 등 버튼 추가 -->
    <div class="home-link">
        <a th:href="@{/home}">← 홈으로 돌아가기</a>
    </div>

    <!-- 회원 탈퇴 (URL은 실제 컨트롤러에 맞게 바꿔도 됨) -->
    <form th:action="@{/mypage/delete}" method="post"
          onsubmit="return confirm('정말로 회원 탈퇴를 진행하시겠습니까?');">
        <button type="submit">회원 탈퇴</button>
    </form>
</div>

</body>
</html>

